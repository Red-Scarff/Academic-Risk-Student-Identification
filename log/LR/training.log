[2025-07-02 04:11:17] [INFO] ============================================================
[2025-07-02 04:11:17] [INFO] 学业困难学生识别 - 逻辑回归模型
[2025-07-02 04:11:17] [INFO] ============================================================
[2025-07-02 04:11:17] [INFO] 算法类型: 线性分类器
[2025-07-02 04:11:17] [INFO] 特点: 可解释性强、计算效率高、适合小数据集
[2025-07-02 04:11:17] [INFO] 
------------------------------------------------------------
[2025-07-02 04:11:17] [INFO] 特征预设解释:
[2025-07-02 04:11:17] [INFO] early_engagement_score: 课程前4周的平均参与度
[2025-07-02 04:11:17] [INFO] total_active_days: 总活跃天数
[2025-07-02 04:11:17] [INFO] total_clicks: 总点击次数
[2025-07-02 04:11:17] [INFO] num_of_prev_attempts: 先前尝试次数
[2025-07-02 04:11:17] [INFO] date_unregistration: 退课日期
[2025-07-02 04:11:17] [INFO] studied_credits: 学习学分
[2025-07-02 04:11:17] [INFO] imd_band: 社会经济地位指数
[2025-07-02 04:11:17] [INFO] final_result: 最终成绩
[2025-07-02 04:11:17] [INFO] days_active_resource: 资源访问活跃天数
[2025-07-02 04:11:17] [INFO] clicks_resource: 资源点击总数
[2025-07-02 04:11:17] [INFO] gender: 性别
[2025-07-02 04:11:17] [INFO] region: 地区
[2025-07-02 04:11:17] [INFO] highest_education: 最高教育水平
[2025-07-02 04:11:17] [INFO] age_band: 年龄段
[2025-07-02 04:11:17] [INFO] disability: 是否有残疾
[2025-07-02 04:11:17] [INFO] semester: 学期
[2025-07-02 04:11:17] [INFO] code_module: 课程模块
[2025-07-02 04:11:17] [INFO] presentation_year: 开课年份
[2025-07-02 04:11:17] [INFO] avg_clicks_per_day: 日均点击量
[2025-07-02 04:11:17] [INFO] 
------------------------------------------------------------
[2025-07-02 04:11:17] [INFO] 数据加载阶段
[2025-07-02 04:11:17] [INFO] ==============================
[2025-07-02 04:11:17] [INFO] 数据集形状: (31482, 62)
[2025-07-02 04:11:17] [INFO] 学业困难比例: 53.45%
[2025-07-02 04:11:17] [INFO] 
------------------------------------------------------------
[2025-07-02 04:11:17] [INFO] 数据准备阶段
[2025-07-02 04:11:17] [INFO] ==============================
[2025-07-02 04:11:17] [INFO] 划分训练集和测试集 (80:20)...
[2025-07-02 04:11:17] [INFO] 训练集: 25185样本, 测试集: 6297样本
[2025-07-02 04:11:17] [INFO] 学业困难比例 - 训练集: 53.45%, 测试集: 53.45%
[2025-07-02 04:11:17] [INFO] 标准化特征数据...
[2025-07-02 04:11:17] [INFO] 
------------------------------------------------------------
[2025-07-02 04:11:17] [INFO] 参数优化阶段
[2025-07-02 04:11:17] [INFO] ==============================
[2025-07-02 04:11:17] [INFO] 执行参数网格搜索...
[2025-07-02 04:11:51] [INFO] 最优参数: {'C': 10, 'penalty': 'l1', 'solver': 'liblinear'}
[2025-07-02 04:11:51] [INFO] 
------------------------------------------------------------
[2025-07-02 04:11:51] [INFO] 模型训练阶段
[2025-07-02 04:11:51] [INFO] ==============================
[2025-07-02 04:11:51] [INFO] 训练最终模型...
[2025-07-02 04:11:52] [INFO] 训练完成，耗时: 1.09秒
[2025-07-02 04:11:52] [INFO] 模型已保存至: log/LR/academic_risk_model.pkl
[2025-07-02 04:11:52] [INFO] 
------------------------------------------------------------
[2025-07-02 04:11:52] [INFO] 模型评估阶段
[2025-07-02 04:11:52] [INFO] ==============================
[2025-07-02 04:11:52] [INFO] 评估模型性能...
[2025-07-02 04:11:52] [INFO] 评估耗时: 0.02秒
[2025-07-02 04:11:52] [INFO] 
============================================================
[2025-07-02 04:11:52] [INFO] 模型性能指标:
[2025-07-02 04:11:52] [INFO] 准确率: 0.8872
[2025-07-02 04:11:52] [INFO] 精确率: 0.8998
[2025-07-02 04:11:52] [INFO] 召回率: 0.8880
[2025-07-02 04:11:52] [INFO] F1分数: 0.8938
[2025-07-02 04:11:52] [INFO] AUC分数: 0.9514
[2025-07-02 04:11:52] [INFO] 
混淆矩阵:
[2025-07-02 04:11:52] [INFO] 
[[2598  333]
 [ 377 2989]]
[2025-07-02 04:11:52] [INFO] 
分类报告:
[2025-07-02 04:11:52] [INFO] 
              precision    recall  f1-score   support

        正常学生       0.87      0.89      0.88      2931
      学业困难学生       0.90      0.89      0.89      3366

    accuracy                           0.89      6297
   macro avg       0.89      0.89      0.89      6297
weighted avg       0.89      0.89      0.89      6297

[2025-07-02 04:11:52] [INFO] 特征重要性图已保存至: log/LR/feature_importance.png
[2025-07-02 04:11:52] [INFO] ROC曲线已保存至: log/LR/roc_curve.png
[2025-07-02 04:11:52] [INFO] 
------------------------------------------------------------
[2025-07-02 04:11:52] [INFO] 模型解释性分析
[2025-07-02 04:11:52] [INFO] ==============================
[2025-07-02 04:11:52] [INFO] 执行SHAP特征分析...
[2025-07-02 04:11:53] [INFO] SHAP摘要图: log/LR/shap_analysis/shap_summary.png
[2025-07-02 04:11:53] [INFO] SHAP条形图: log/LR/shap_analysis/shap_bar.png
[2025-07-02 04:11:53] [INFO] 
特征重要性分析:
[2025-07-02 04:11:53] [INFO] 
Top 10重要特征:
[2025-07-02 04:11:53] [INFO]              feature  shap_value
days_active_homepage    3.040532
     clicks_homepage    1.444116
 date_unregistration    0.981464
   total_active_days    0.861792
  avg_clicks_per_day    0.684567
    days_active_quiz    0.530494
        final_result    0.401244
              gender    0.401010
      clicks_subpage    0.389301
     days_active_url    0.347433
[2025-07-02 04:11:53] [INFO] 
详细解释前5个重要特征:
[2025-07-02 04:11:53] [INFO] - days_active_homepage (SHAP值: 3.0405): 重要行为特征
[2025-07-02 04:11:53] [INFO] - clicks_homepage (SHAP值: 1.4441): 重要行为特征
[2025-07-02 04:11:53] [INFO] - date_unregistration (SHAP值: 0.9815): 退课日期
[2025-07-02 04:11:53] [INFO] - total_active_days (SHAP值: 0.8618): 总活跃天数
[2025-07-02 04:11:53] [INFO] - avg_clicks_per_day (SHAP值: 0.6846): 日均点击量
[2025-07-02 04:11:53] [INFO] 
============================================================
[2025-07-02 04:11:53] [INFO] 模型训练总结
[2025-07-02 04:11:53] [INFO] ============================================================
[2025-07-02 04:11:53] [INFO] 学业困难识别率 (召回率): 88.80%
[2025-07-02 04:11:53] [INFO] 模型准确率: 88.72%
[2025-07-02 04:11:53] [INFO] F1分数: 0.8938
[2025-07-02 04:11:53] [INFO] AUC分数: 0.9514
[2025-07-02 04:11:53] [INFO] 
训练完成时间: 2025-07-02 04:11:53
[2025-07-02 04:11:53] [INFO] ============================================================
